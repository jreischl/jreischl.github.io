<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Create a Plan | AF Coaching</title>
<link rel="stylesheet" href="../css/bootstrap.css">
<link rel="stylesheet" href="../css/fontawesome.css">
<link rel="stylesheet" href="../css/custom.css">
<link rel="stylesheet" href="../css/fonts.css">
<link rel="stylesheet" href="css/coaching.css">

<!-- Page Specific-->

<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<style></style>
</head>
<body class="d-md-flex">
<header id="header" data-role="header"></header>
<nav id="navbar-build" class="sidebar"></nav>
<main class="container-relative d-md-flex align-items-stretch bg-gray-lightest">
  <style>
	
	#wall_Exercise  .item-exercise pre.description,
	#wall_Exercise  .item-exercise .intensities {
		display: inherit;
		
	}	
	#Exercise-Library [data-action="toggle-settings"],
	#Exercise-Library [id*="collapse-settings"]  {
		display: none!important;
	}
	  .text-white {
		  color: #fff!important;
	  }
	  
	  
	  .border-top-dashed {
		  border-top: 1px dashed #dee2e6;
	  }
	  
	  
	  
	  
	
</style>
  <section id="wall_Workout" class="flex-fill p-md-5 p-3 bg-gray-lightest border-left width-limited" data-roll="engaged">
    <div  class="contents">
      <form>
        <fieldset class="active">
          
			
			<div class="d-flex form-group align-items-center  mb-4">
				<div class="mr-4">
            <h2 class="h3 mb-0"><i class="list-icon icon-build"></i><strong> BUILD</strong> — <small>Week 21, 2020</small></h2>
          </div>
					
				
			</div>
			<hr>
          
          <div class="row">
            <!--<div data-show="pt" class="col-4 pr-0">
              <div class="form-group upload-unit">
                <label for="posterImage">Poster</label>
                <label id="posterImage" class="btn btn-secondary btn-block img-upload-preview"><i class="icon-camera"><span class="sr-only">Select Image</span></i>
                  <input class="sr-only img-upload" id="upload-poster" type="file">
                </label>
              </div>
            </div>-->
            <div class="flex-fill mx-3">
              <div class="form-group">
                <label for="notes_W1D1">Workout Description</label>
                <textarea class="form-control" id="notes_W1D1" rows="3" placeholder="A summary of the workout and instructions for the trainer"></textarea>
              </div>
				
				 <div class="form-group">
					 
               <div class="mb-2 bg-gray rounded p-2 form-control-sm "><i class="icon-bubbles"></i> 
                 <label class="p-0 m-0 " for="icebreaker">Ice Breaker </label>
               </div>
                <textarea class="form-control" id="icebreaker" rows="3" placeholder="An activity or topic for a conversation starter"></textarea>
              </div>
            </div>
          </div>
          <div class="card card-minimal bg-light mt-2" id="workoutParts_W1D1">
			  
            <div class="card-header bg-light p-0 border-0 ">
              <div class="d-flex align-items-center mb-2 field-purple-rev rounded justify-content-between">
                <div class="d-flex"><select data-item="workout_part" class="form-control border-0 form-control-sm field-purple-rev ">
<option>Sets</option><option>Supersets</option><option>Triple sets</option><option>Quad sets</option><option>Circuits</option><option>Pyramids</option><option>Intervals</option><option>Tabata</option></select><input class="form-control form-control-sm field-purple-rev text-white border-0" type="number" value="3" style="width: 3rem"></div>
				 
				  <span class="d-flex align-items-center"><select data-item="" class="form-control border-0 form-control-sm field-purple-rev text-right text-small ml-2" style="width: auto">
<option>Work to Rest</option><option>Reps</option></select>
				  <input type="text" class="form-control border-0 form-control-sm field-purple-rev text-white" value="45x/15x" style="width: 4rem;">
				  
				  
				  
				  </span>
					

				 
                <button type="button" data-toggle="tooltip" data-placement="top" title="" class="btn btn-sm field-purple-rev icon-plus p-2 ml-2 float-right " data-action="add_part" data-original-title="Add workout part (i.e. Warm Up)"><span class="sr-only">Add</span></button>
              </div>
            </div>

			  
            <div class="card-body p-0">
              <div class="form-group workout-part">
                <div aria-labelledby="part1">
                  <ul class="list-unstyled list-items receiver">
                  </ul>
                  <button type="button" class="btn btn-secondary btn-block btn-outline-primary" data-action="add_exercise">Add Exercise</button>
                </div>
              </div>
            </div>
          </div>
        </fieldset>
		  
		  <div class="form-group mt-4">
                <div class="mb-2 bg-gray rounded p-2 form-control-sm"><label class="p-0 m-0" for="recovery"><i class="icon-yoga"></i> Recovery</label>
                </div>
			  
			  
			  <div class="card card-minimal bg-light mt-2" id="workoutParts_Recovery">

			  <div class="card-body p-0">
              <div class="form-group workout-part">
                <div aria-labelledby="part1">
                  <ul class="list-unstyled list-items receiver">
                  </ul>
                   <div class="dropdown mb-2"><button class="btn btn-secondary btn-outline-dotted btn-block dropdown-toggle" type="button" id="addTaskRecovery" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Add Item</button><div class="dropdown-menu" aria-labelledby="addTaskRecovery" x-placement="bottom-start" style="width: 100%; position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(0px, 38px, 0px);"><a class="dropdown-item border-bottom text-center" href="#" data-action="add_exercise">Exercise</a><a class="dropdown-item text-center" href="#" data-action="custom_task">Custom Activity</a></div></div>
                </div>
              </div>
            </div>
			  
			  </div>
			 
			    
			  
              </div>
		  
		  <div class="form-group mt-4">
                <div class="mb-2 bg-gray rounded p-2 form-control-sm"><label class="p-0 m-0" for="recovery"><i class="icon-one-on-one"></i> Team Building</label>
                </div>
			  
			  
			  <div class="card card-minimal bg-light mt-2" id="workoutParts_Team">

			  <div class="card-body p-0">
              <div class="form-group workout-part">
                <div aria-labelledby="part1">
                  <ul class="list-unstyled list-items receiver">
                  </ul>
                   <div class="dropdown mb-2"><button class="btn btn-secondary btn-outline-dotted btn-block dropdown-toggle" type="button" id="addTaskTeam" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Add Item</button><div class="dropdown-menu" aria-labelledby="addTaskTeam" x-placement="bottom-start" style="width: 100%; position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(0px, 38px, 0px);"><a class="dropdown-item border-bottom text-center" href="#" data-action="add_exercise">Exercise</a><a class="dropdown-item text-center" href="#" data-action="custom_task">Custom Activity</a></div></div>
                </div>
              </div>
            </div>
			  
			  </div>
			 
			    
			  
        </div>
		  
        <div class="text-right">
          <hr>
          <div class=""> <a href="library.html?AFT" class="btn btn-primary m-1" data-action="return_to_workouts" >Done</a> </div>
        </div>
      </form>
    </div>
  </section>
  <section id="wall_Exercise" class="flex-fill p-md-5 p-3 bg-white width-limited" data-roll="absent">
    <div id="Exercise-Library" class="contents">
      <div class="section-header">
        <div class="d-flex justify-content-between">
          <h1 class="heading"><strong>Exercise Library</strong></h1>
          <button type="button" class="close align-self-start d-block d-sm-none" data-action="close_exercises" aria-label="Close"> <span aria-hidden="true">×</span> </button>
        </div>
        <form class="my-4">
          <div class="form-group d-flex">
            <input id="search_exercises" class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
            <button class="btn btn-secondary mx-2" type="submit"><span class="sr-only">Search</span><i class="icon-search"></i></button>
          </div>
          <div class="form-group">
            <div id="filter_workouts" class="">
              <label for="all_equipment" class="small mr-2">
                <input id="all_equipment" type="checkbox" checked="" data-toggle="collapse" data-target="#filters_equipment" aria-expanded="false" role="button">
                All Equipment</label>
              <div id="filters_equipment" class="collapse"><span class="d-flex flex-wrap">
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="Cones">
                  <label class="form-check-label small" for="Cones">Cones</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="Stick">
                  <label class="form-check-label small" for="Stick">Stick</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="Theraball">
                  <label class="form-check-label small" for="Theraball">Theraball</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="Strap">
                  <label class="form-check-label small" for="Strap">Strap</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="Towel">
                  <label class="form-check-label small" for="Towel">Towel</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="Sandbag">
                  <label class="form-check-label small" for="Sandbag">Sandbag</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="BattleRope">
                  <label class="form-check-label small" for="BattleRope">Battle Rope</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="PowerWheel">
                  <label class="form-check-label small" for="PowerWheel">Power Wheel</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="Sliders">
                  <label class="form-check-label small" for="Sliders">Sliders</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="FoamRoller">
                  <label class="form-check-label small" for="FoamRoller">Foam Roller</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="SwissBall">
                  <label class="form-check-label small" for="SwissBall">Swiss Ball</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="BOSU">
                  <label class="form-check-label small" for="BOSU">BOSU</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="MedBall">
                  <label class="form-check-label small" for="MedBall">Med Ball</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="Dumbbells">
                  <label class="form-check-label small" for="Dumbbells">Dumbbells</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="Kettlebells">
                  <label class="form-check-label small" for="Kettlebells">Kettlebells</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="Cables">
                  <label class="form-check-label small" for="Cables">Cables</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="TubingBands">
                  <label class="form-check-label small" for="TubingBands">Tubing/Bands</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="Plate">
                  <label class="form-check-label small" for="Plate">Plate</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="DynaDisc">
                  <label class="form-check-label small" for="DynaDisc">Dyna Disc</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="Machine">
                  <label class="form-check-label small" for="Machine">Machine</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="Bodyweight">
                  <label class="form-check-label small" for="Bodyweight">Bodyweight</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="LegWeights">
                  <label class="form-check-label small" for="LegWeights">Leg Weights</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="Barbell">
                  <label class="form-check-label small" for="Barbell">Barbell</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="Suspension">
                  <label class="form-check-label small" for="Suspension">Suspension</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="Airex">
                  <label class="form-check-label small" for="Airex">Airex</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="WobbleBoard">
                  <label class="form-check-label small" for="WobbleBoard">Wobble Board</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="Ring">
                  <label class="form-check-label small" for="Ring">Ring</label>
                </div>
                </span>
                <hr>
              </div>
              <label for="all_bodyparts" class="small">
                <input id="all_bodyparts" type="checkbox" checked="" data-toggle="collapse" data-target="#filters_bodyparts" aria-expanded="false" role="button">
                All Body Parts</label>
              <div id="filters_bodyparts" class="collapse"><span class="d-flex flex-wrap">
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="Hip">
                  <label class="form-check-label small" for="Hip">Hip</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="Cervical">
                  <label class="form-check-label small" for="Cervical">Cervical</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="Ankle">
                  <label class="form-check-label small" for="Ankle">Ankle</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="Wrist">
                  <label class="form-check-label small" for="Wrist">Wrist</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="Lumbar">
                  <label class="form-check-label small" for="Lumbar">Lumbar</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="Thoracic">
                  <label class="form-check-label small" for="Thoracic">Thoracic</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="Knee">
                  <label class="form-check-label small" for="Knee">Knee</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="Forearms">
                  <label class="form-check-label small" for="Forearms">Forearms</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="Chest">
                  <label class="form-check-label small" for="Chest">Chest</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="Back">
                  <label class="form-check-label small" for="Back">Back</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="FullBody">
                  <label class="form-check-label small" for="FullBody">Full Body</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="Legs">
                  <label class="form-check-label small" for="Legs">Legs</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="Biceps">
                  <label class="form-check-label small" for="Biceps">Biceps</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="Abs">
                  <label class="form-check-label small" for="Abs">Abs</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="Neck">
                  <label class="form-check-label small" for="Neck">Neck</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="Triceps">
                  <label class="form-check-label small" for="Triceps">Triceps</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="Shoulders">
                  <label class="form-check-label small" for="Shoulders">Shoulders</label>
                </div>
                <div class="form-check my-2 mr-4">
                  <input class="form-check-input" type="checkbox" value="" id="LowerBack">
                  <label class="form-check-label small" for="LowerBack">Lower Back</label>
                </div>
                </span>
                <hr>
              </div>
            </div>
          </div>
        </form>
      </div>
      <ul class="list-unstyled list-items ">
        <!-- Render JSON -->
      </ul>
    </div>
  </section>
  <section id="wall_ExerciseDetail" class="flex-fill p-md-5 p-3 bg-white width-limited" data-roll="absent">
    <h1 class="heading"> <strong class="mr-2"><span id="exercise_name">[Exercise Name]</span></strong> </h1>
    <div class="workout-meta">
      <div class="poster mb-4 rounded populated" style="background-image: url(&quot;https://pumpone.com/static_images/320/1_Dumbell.jpg&quot;);"></div>
      <div class="d-flex justify-content-between">
        <div>
          <p><small class="nowrap ">0 Exercises, 0 min, 0 cal</small></p>
          <div class="notes-workout text-muted mt-4">
            <p>This workout is a circuit or triple sets, each containing 3 seperate exercises.</p>
            <p>For each triple set, perform 50 repetitions fo the first cardio move and 15 repetitions of the following 2 exercises.</p>
          </div>
        </div>
        <div class="d-flex flex-column">
          <div class="dropdown" data-action="more">
            <button class="btn btn-primary m-1  btn-sm nowrap" type="button" id="menu-exercise-1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="icon-duplicate"></i> <span class="d-none d-sm-inline-block">Duplicate</span></button>
            <div class="dropdown-menu" aria-labelledby="menu-exercise-1"> <a class="dropdown-item" href="workouts.html">Copy to Belgium</a> <a class="dropdown-item" href="workouts.html">Copy to Netherlands/Luxembourg</a> <a class="dropdown-item" href="workouts.html">Copy to Club Network</a> <a class="dropdown-item" href="workouts.html">Copy to My Workouts</a> </div>
          </div>
          <!--<button class="btn btn-primary btn-sm m-1" data-action="add_existing_to_plan"><i class="icon-plus "></i> Add to Plan</button>--> 
        </div>
      </div>
      
      <!--<div class="text-right"><button data-action="edit_workout" class="btn btn-primary"><i class="icon-af-pencil-fill"></i> <span class="sr-only">Edit Workout</span></button>
				</div>--> 
    </div>
  </section>
</main>
<aside> </aside>
<footer id="footer"></footer>
<script src="../js/jquery-3.3.1.min.js"></script> 

<!--For Drag & Drop, must occur before bootstrap.js for BS Tooltip styling--> 
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script> 
<script src="../js/popper.min.js"></script> 
<script src="../js/bootstrap.min.js"></script> 
<script src="js/coaching.js"></script> 
<script src="../js/jquery.ui.touch-punch.min.js"></script> 
<script>
	
// Stage the Page (for mockup purposes)	
	$('wall_Exercise').hide();
	  

	
//  Load Exercises
    $(function() {
		
		
	
   var exercises = [];

   $.getJSON('js/exercises.json', function(data) {
       $.each(data.exercise, function(i, f) {
          var tblRow = '<li class="item-exercise p-2 d-block"><div>		<div class="item-top d-flex align-items-center justify-content-between position-relative">				<button class="btn btn-sm btn-primary icon-plus p-2 mr-4" data-action="add_to_workout"><span class="sr-only">Add to Workout</span></button><i class="thumbnail d-none d-sm-block" style="background-image:url('+ f.poster +')"></i>		<div class="d-flex flex-column flex-fill name"><span>' + f.name +'</span><small>' + f.details +'</small></div>		<button type="button" data-toggle="popover"  data-content="&lt;p&gt;' + f.desc +'&lt;/p&gt; &lt;div&gt;&lt;a href=&quot;#&quot; data-action=&quot;play_video&quot; style=&quot;z-index: 1&quot;&gt;&lt;i class=&quot;icon-play&quot;&gt;&lt;/i&gt; &lt;span class=&quot;&quot;&gt;Show Video&lt;/span&gt;&lt;/a&gt;&lt;/div&gt;" data-html="true"  data-placement="bottom"  class="btn btn-link px-2"><i class="icon-info2"></i><span class="sr-only">More information</span></button>														<div class="dropdown" data-action="more"> <button class="btn btn-link p-2 ml-2 icon-tab-more-active" type="button" id="menu-exercise-1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <span class="sr-only">More options</span></button><div class="dropdown-menu" aria-labelledby="menu-exercise-1" >   <a class="dropdown-item" href="#">Duplicate</a>    <a class="dropdown-item" ref="#">Delete</a>  </div></div>							<a href="#reorder" class="icon-drag p-2 ml-2 btn btn-link" data-action="drag"><span class="sr-only">Reorder</span></a>				</div>																																																																																																																																																																																																													<div class="embed-responsive embed-responsive-16by9 my-4" style="display:none;"><video controls="" muted="" src="'+ f.video +'"></video></div>																																																														<div id="collapse-settings'+ f.id +'" class="collapse show border bg-white p-2 rounded mt-2">																																																																				<div class="d-flex align-items-center"><small class="text-muted flex-fill">Progression</small>		<span class="d-flex align-items-center"><select data-item="" class="form-control border-0 form-control-sm bg-none text-right text-small ml-2 text-muted" style="width: auto"><option>Work to Rest</option><option>Reps</option></select> <input type="text" class="form-control border-0 form-control-sm " value="45x/15x" style="width: 4rem;"></span>		</div><div class="d-flex align-items-center justify-content-between"><button type="button" class="btn btn-sm btn-block btn-secondary btn-outline-dotted" data-action="add_alt_exercise"><i class="icon-plus"></i><span class="sr-only">Add Progression</span></button></div>				<div class="mt-2 mb-2 border-top-dashed">				<div class="d-flex align-items-center"><small class="text-muted flex-fill">Regression</small>		<span class="d-flex align-items-center"><select data-item="" class="form-control border-0 form-control-sm bg-none text-right text-small ml-2 text-muted" style="width: auto"><option>Work to Rest</option><option>Reps</option></select> <input type="text" class="form-control border-0 form-control-sm " value="45x/15x" style="width: 4rem;"></span>		</div>				<div class="d-flex align-items-center justify-content-between"><button type="button" class="btn btn-sm btn-block btn-secondary btn-outline-dotted" data-action="add_alt_exercise"><i class="icon-plus"></i><span class="sr-only">Add Progression</span></button></div>															</div></div>		<a data-toggle="collapse" href="#collapse-settings'+ f.id +'" role="button" aria-expanded="true" aria-controls="collapse-settings'+ f.id +'" class="btn btn-block btn-primary mt-2 btn-sm p-0" data-action="toggle-settings" style="z-index:1; height:auto; line-height: .5rem"><i class="indicator-collapse collapse-up"></i><small class="sr-only">Progress/Regression</small></a>		</li>'			  
           $(tblRow).appendTo("#wall_Exercise .list-items");
     });
	   
	   
	   
				// Add This Exercise to Workout
	   
				$('[data-action="add_to_workout"]').click(function(){
					$(this).parent().siblings('.details').slideUp();
					if ($('#wall_Exercise').hasClass('alt')) {
						$(this).closest('li').find('.item-top').clone().insertBefore('.pending').addClass('flex-fill').children('[data-action="toggle-settings"], [data-action="drag"]').remove();
						$('#wall_Workout .pending').hide().removeClass('pending');
						$('#wall_Exercise').removeClass('alt');
					}
					else {
						$(this).closest('li').clone().removeClass('detail').appendTo('#wall_Workout .card.active .receiver');
					}
					
					$('[data-action="next_workout"]').prop('disabled', false);
					$('#wall_Workout').attr('data-roll','engaged');
					$('#wall_Exercise').attr('data-roll','absent');
					$('.sr-instruction').addClass('sr-only');
					$('.card.active').removeClass('active');
					
					// Enable popovers 
					  $('[data-toggle="popover"]').popover()
					
					
					// Enable Drag and Drop
					$( '#wall_Workout .list-items' ).sortable({
						handle: ".icon-drag",
						connectWith: ".list-items",
						placeholder: "ui-state-highlight"
					});	
					
					
																		
			
																	
		});
	   // After Exercises Load...
				$( function() {
					
					// Enable popovers 
					  $('[data-toggle="popover"]').popover()

					
	    // Show Exercise Library
			$(document.body).on('click', '[data-action="add_exercise"]' ,function(){
				$('.card.active').removeClass('active');
				$(this).closest('.card').addClass('active');
				$('#wall_Workout').attr('data-roll','present');
				$('#wall_Exercise').attr('data-roll','engaged');
				$(this).closest('.form-group').addClass('active');
				$('#search_exercises').focus();
			});
					
		// Show Exercise Library
			$(document.body).on('click', '[data-action="add_alt_exercise"]' ,function(){
				$(this).addClass('pending');
				$('#wall_Workout').attr('data-roll','present')
				$('#wall_Exercise').attr('data-roll','engaged').addClass('alt');
				$('#search_exercises').focus();
			});					
																

			  	});
	   
	   	
	   
	   // Show Exercise Detail 
	   		$(document.body).on('click', '[data-action="view_detail"]' ,function(){

//				   $('#wall_Overview').addClass('view-exercise');
//				   $(this).closest('li').show().addClass('detail');
				   $(this).closest('li').find('.details').slideToggle();
				   $([document.documentElement, document.body]).animate({
						scrollTop: $(this).closest('li').offset().top-80
					}, 500);
				   var theVid = $(this).parent().children().children('video');
				   var vidSrc = $(this).parent().children().children('video').attr('src');
				   var thePoster = $(this).siblings('.populated').css('background-image');

				   if (vidSrc == "") {
					  $(theVid).hide();
					  $(theVid).parent().css('background', thePoster+'no-repeat center center')
				   }
				   else {
						$('video').get(0).play();
				   }
			   });
	

   });

});

	// Add a Workout (stub)
	
	var WorkoutDay = '<li><a href="#thisPlan" class="plan-day active d-flex flex-grow-1 align-items-center" data-action="view_workout"><i class="thumbnail"></i><div class="d-flex flex-column flex-fill"><span>Day <span data-day="1">1</span></span><small>0 Exercises, 0 min, 0 cal</small></div></a></li>'
	
	
	var WorkoutBlank = '<fieldset class="active"><div class="d-flex justify-content-between"><h2 class="heading"><div class="form-inline"><select class="mb-1 mr-2 custom-select custom-select-sm"><option>Week 1</option><option>Week 2</option><option>Week 3</option></select><strong class="mr-2">Day 2</strong> <small class="nowrap ">0 Exercises, 0 min, 0 cal</small></div></h2><div class="dropdown" data-action="more"> <button class="btn btn-link p-2 ml-2 icon-tab-more-active" type="button" id="menu-exercise-1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <span class="sr-only">More options</span></button><div class="dropdown-menu" aria-labelledby="menu-exercise-1"><a class="dropdown-item" href="#" data-action="save-to-workouts">Save to Workouts Library</a>    <a class="dropdown-item" href="#">Duplicate</a>    <a class="dropdown-item" ref="#">Delete</a>  </div></div></div><div class="row">				<div class="col-4"><div class="form-group upload-unit"><label id="posterImage" class="d-block file-upload-unit">Poster<span class="btn btn-secondary btn-block img-upload-preview mt-2""><i class="icon-camera"><span class="sr-only">Select Image</span></i></span><input class="sr-only img-upload" id="upload-poster" type="file"></label></div></div><div class="col-8"><div class="form-group"><label for="notes_W1D1">Notes</label><textarea class="form-control" id="notes_W1D1" rows="3"></textarea></div></div></div><div class="card card-minimal bg-light active" id="workoutParts_W1D1"><div class="card-header"><label></label><input type="text" placeholder="Warm Up"><button type="button" data-toggle="tooltip" data-placement="top" title="Add workout part (i.e. Warm Up)" class="btn btn-sm btn-secondary icon-plus p-2 ml-4 float-right" data-action="add_part"></button></div><div class="card-body"><div class="form-group workout-part"><div aria-labelledby="part1"><button type="button" class="sr-instruction btn btn-link" data-action="add_exercise">Add exercises from the Exercise Library</button><ul class="list-unstyled list-items"></ul><div class=""><button type="button" class="btn btn-block btn-outline-primary d-block d-md-none " data-action="add_exercise">Add Exercise</button></div></div></div></div></div></fieldset>'
	


// Add Workout Part 
		var addWorkoutPart = $('[data-action="add_part"]').click(function(){	
			var newCard = '<div class="card card-minimal bg-light mt-2" id="workoutParts_W1D1"><div class="card-header bg-light p-0 border-0 "><div class="d-flex align-items-center mb-2 field-purple-rev rounded justify-content-between"><div><select data-item="workout_part" class="form-control border-0 form-control-sm field-purple-rev text-white"><option>Sets</option><option>Supersets</option><option>Triple sets</option><option>Quad sets</option><option>Circuits</option><option>Pyramids</option><option>Intervals</option><option>Tabata</option></select></div> <span class="d-flex align-items-center"><select data-item="" class="form-control border-0 form-control-sm field-purple-rev text-right text-small ml-2" style="width: auto"><option>Work to Rest</option><option>?</option></select> <input type="text" class="form-control border-0 form-control-sm field-purple-rev text-white" value="45s/15s" style="width: 4rem;"></span> <span class="" data-item="repeat"><label class="my-0 ml-2 d-flex align-items-center"><small class="mx-2">Repeat</small><input class="form-control form-control-sm field-purple-rev text-white border-0" type="number" value="3" style="width: 3rem"></label></span> <label class="my-0 ml-2 d-none"><span class="sr-only">Custom Grouping</span><input class="form-control form-control-sm" type="text" placeholder="..."></label> <button type="button" data-toggle="tooltip" data-placement="top" title="" class="btn btn-sm field-purple-rev icon-plus p-2 ml-2 float-right " data-action="add_part" data-original-title="Add workout part (i.e. Warm Up)"><span class="sr-only">Add</span></button></div></div><div class="card-body p-0"><div class="form-group workout-part"><div aria-labelledby="part1"><ul class="list-unstyled list-items receiver"></ul> <button type="button" class="btn btn-secondary btn-block btn-outline-primary" data-action="add_exercise">Add Exercise</button></div></div></div></div>'

			var thisCard = $(this).closest('.card');
			$(newCard).insertAfter(thisCard);
			
			// Enable Drag and Drop
					$( '#wall_Workout .list-items' ).sortable({
						handle: ".icon-drag",
						connectWith: ".list-items",
						placeholder: "ui-state-highlight"
					});	

		});
	
			
	// Add Workout to Plan
	$('[data-action="add_workout"]').click(function(){
		$('#wall_Plan').attr('data-roll','absent');
		$('#wall_Workout').attr('data-roll','engaged').fadeIn();
		$('#wall_Exercise').attr('data-roll','present');
		$('.plan-day').removeClass('active');
		$(this).closest('.dropdown').prev('ul').append(WorkoutDay);
		// Number the Days
		$("[data-day='1']").each(function(index) {
			$(this).html(index + 1);
		  });
		$('fieldset.active').hide().removeClass('active').after(WorkoutBlank);
		$('[data-action="add_workout"]').prop('disabled', true).css('opacity','.1');
		$('[data-action="save_plan"]').prop('disabled', true).css('opacity','.1');
		 $('[data-toggle="tooltip"]').tooltip();
		
		
			// Show Exercise Library
		/*
			$('[data-action="add_exercise"]').on('click', function(){
				$('#wall_Workout').attr('data-roll','present');
				$('#wall_Exercise').attr('data-roll','engaged');
				$(this).closest('.form-group').addClass('active');
				$('#search_exercises').focus();
			});
		
		*/
		
			// View Workout
			$('[data-action="view_workout"]').click(function(){
				$(this).addClass('active');
				$('#wall_Workout').attr('data-roll','engaged').fadeIn();
				$('#wall_Plan').attr('data-roll','present');
			})
		
		
		
		
		
			// Add Next Workout to Plan
			$('[data-action="next_workout"]').click(function(){
				$(this).parent().prev('fieldset.active').hide().removeClass('active').after(WorkoutBlank);
				$('.plan-day').removeClass('active');
				$(this).prev('ul').append(WorkoutDay);
				$('[data-action="add_workout"]').prop('disabled', true).css('opacity','.1');
				$('[data-action="save_plan"]').prop('disabled', true).css('opacity','.1');			
			});
		
		
		
			// Upload Poster/Update Preview	
	
		$(".img-upload").click(function(){

			var imghole = $(this).attr('id')

			function readURL(input) {
				if (input.files && input.files[0]) {
					var reader = new FileReader();

					reader.onload = function (e) {
						$('.upload-unit .img-upload-preview').css('background-image', 'url(' + e.target.result + ')').addClass('populated');
						$('.plan-day.active .thumbnail').css('background-image', 'url(' + e.target.result + ')').addClass('populated');
					}

					reader.readAsDataURL(input.files[0]);
				}
			}

			$(this).change(function(){
				readURL(this);

			});
		});


		
		
	});
	  
	  
	  			
								
	  
	
	
	
	
	
	// Done adding Workouts
	$('[data-action="done_adding_workouts"]').click(function(){
		$('#wall_Plan').attr('data-roll','engaged');
		$("#plan-autosave").show().delay(400).fadeOut();
		$('#wall_Workout').attr('data-roll','absent');
		$('#wall_Exercise').attr('data-roll','absent');
		$('[data-action="add_workout"]').prop('disabled', false).css('opacity','1');
		$('[data-action="save_plan"]').prop('disabled', false).css('opacity','1');	
		$('.plan-day.active').removeClass('active');
	});
	  

	  
	  
	  
	
	// Next Workout
	$('[data-action="next_workout"]').click(function(){
		$('.plan-day.active').removeClass('active').parent('li').after(WorkoutDay);
	});		
	

	

	// Close Exercise Library
	
	$('[data-action="close_exercises"]').on('click', function(){
		$( "#wall_Exercise" ).attr('data-roll','absent').css('left', '');
//		$('[data-action="add_exercise"]').prop('disabled', false).css('opacity','1').closest('.form-group').removeClass('active');
		$('.sr-instruction').removeClass('sr-only');
	});
	
	
// Autosave UI
	  
	  $('.form-control').change(function(){
		  $("#plan-autosave").show().delay(400).fadeOut();
		  
	  })
	  
	  

	  
	  $(function () {
		  // Enable Tooltips 
		  $('[data-toggle="tooltip"]').tooltip();
		  
		  // Set Nav 
		  $('#tab-workouts').addClass('active');
		})
	  
	  
	  // Custon Workout Part
	$(document.body).on('change', '[data-item="workout_part"]' ,function(){
		
		$(this).next().removeClass('d-none');
	});
	  
	  // Upload Poster/Update Preview	
	
		$(".img-upload").click(function(){

			var imghole = $(this).attr('id')

			function readURL(input) {
				if (input.files && input.files[0]) {
					var reader = new FileReader();

					reader.onload = function (e) {
						$('.upload-unit .img-upload-preview').css('background-image', 'url(' + e.target.result + ')').addClass('populated');
						$('.plan-day.active .thumbnail').css('background-image', 'url(' + e.target.result + ')').addClass('populated');
					}

					reader.readAsDataURL(input.files[0]);
				}
			}

			$(this).change(function(){
				readURL(this);

			});
		});

		$('.workout-part .dropdown-item').click(function(){
			$(this).closest('.dropdown').fadeOut();
			
		})
		// Custom Activity Task
		$(document.body).on('click', '[data-action="custom_task"]' ,function(){

			$(this).closest('.dropdown').addClass('populated').after('<div class="plan-day mb-2 task-custom d-flex flex-grow-1 align-items-start pt-1"><button type="button" class="btn btn-sm btn-link" data-view="edit"><i class="icon-x-small" data-action="cancel_task"></i><span class="sr-only">Cancel</span></button>  <div class="task-details d-flex flex-column flex-fill"><span data-view="saved"></span><label class="mr-2" data-view="edit"><span class="sr-only">Custom  Task</span><textarea class="form-control" autofocus placeholder="Nutrition task...">Custom task...</textarea></label><a href="#" class="attached" style="display:none"><small><i class="icon-attachment"></i> Something</small></a></div><div data-view="edit"><button type="button" class="btn btn-sm btn-secondary" data-toggle="modal" data-target="#attachment_modal"><i class="icon-attachment"></i><span class="sr-only">Cancel</span></button> <button type="button" class="btn btn-sm btn-success" data-action="save_task"><i class="icon-check"></i><span class="sr-only">Save</span></button></div>	<div class="dropdown" data-action="more" data-view="saved" style="display: none"> <button class="btn btn-link p-2 ml-2 icon-ellipses" type="button" id="menu-nutrition-1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"> <span class="sr-only">More options</span></button><div class="dropdown-menu" aria-labelledby="menu-nutrition-1"><a class="dropdown-item" href="#edit" data-action="edit_task">Edit</a>    <a class="dropdown-item" href="#duplicate"  data-action="duplicate_task">Duplicate</a>    <a class="dropdown-item" href="#delete" data-action="delete_task">Delete</a>  </div></div><span class="icon-drag p-2 ml-2 btn btn-link" data-action="drag" data-view="saved" style="display:none"></span></div>');
			
			$().draggit();
			
			$('[data-action="save_task"]').click(function(){
				var theTask = $(this).parent().siblings().find('textarea').val();
				$(this).parent().hide().siblings().find('label').hide().siblings('[data-view="saved"]').text(theTask);

				$(this).closest('.plan-day').find('[data-view="edit"]').hide();
				$(this).closest('.plan-day').find('[data-view="saved"]').show();	
				
			});
			
			
			$('[data-action="edit_task"]').click(function(){
				$(this).closest('.plan-day').find('[data-view="edit"]').show();
				$(this).closest('.plan-day').find('[data-view="saved"]').hide();							
				
			});
			
			$('[data-action="duplicate_task"]').click(function(){
				var theDay = $(this).closest('.plan-day').parent();
				var theWholeTask = $(this).closest('.plan-day').clone();
				$(theWholeTask).appendTo(theDay);
				$('.dropdown-menu').removeClass('show')
				
			});
			
			
			// Set Attachment button to "pending"
			$('[data-target="#attachment_modal"]').click(function(){
				$(this).closest('.plan-day').addClass('attachment-pending');
			})
			
			

			// Upload Attachment Preview		
					$(".img-upload").click(function(){
						var imghole = $(this).attr('id')
						function readURL(input) {
							if (input.files && input.files[0]) {
								var reader = new FileReader();
								reader.onload = function (e) {
									$('.file-upload-unit .img-upload-preview').css('background-image', 'url(' + e.target.result + ')').addClass('populated');
								}
								reader.readAsDataURL(input.files[0]);
							}
						}
						$(this).change(function(){
							readURL(this);
						});
					});

			// Add attachment to task 
			$('[data-action="add_attachment"]').click(function(){
				$('.attachment-pending .attached').show();
				
			})

			
			
			
			
			
		});

		
	
</script>
</body>
</html>