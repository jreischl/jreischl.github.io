    <div class="d-flex align-items-center mb-4">
      <h1 class="h3 mr-2"><strong>CLIENTS</strong></h1>  <div class="custom-control custom-switch d-minimal-none">
  <input type="checkbox" class="custom-control-input" id="customSwitch1" checked>
  <label class="custom-control-label" for="customSwitch1">Show only my clients</label>
		
		
</div>
	<div class="">
		  <button class="btn btn-link"><i class="icon-search"></i> </button>
		  <button class="btn btn-link"><i class="icon-filter"></i> </button>
		<!--<button class="btn btn-primary rounded-pill pl-4 pr-3 my-2 float-right" data-toggle="tooltip" title="Send a personalized message to multiple clients at once"> Broadcast <i class="icon-coaching"></i></button>-->
			</div>	
    </div>
    <div class="contents">
		<div class="d-flex d-minimal-none justify-content-between">
	
      <div class="d-flex p-2 bg-gray rounded mb-4">
		 
		  <div class="mr-2">
        <div class=" d-flex align-items-start">
          <div class="form-group mr-2 mb-0">
			  
            <label for="search_clients" class="sr-only"><small>Search All Clients</small></label>
			  
			  <div class="input-group">
			  <div class="input-group-prepend"> <span class="input-group-text  bg-white" id="basic-addon1"><i class="icon-search"> </i></span> </div><input id="search_clients" type="text" class="form-control form-control-sm" placeholder="Search by name" aria-label="Search by name" aria-describedby="basic-addon1"></div>
          </div>
      
        </div>
        
      </div>
		  <!-----------Hide these for now-------- 
        <div class="mr-2">
          

		  <label for="select_club"><small>Club</small></label>
          <select class="form-control form-control-sm" id="select_club" style="max-width: 300px;">
            <option value="2515">Pittsburgh, PA (251 Mt. Nebo Pointe Dr)</option>
            <option value="2705">Tucson, AZ (8868 Tanque Verde Rd) </option>
            <option value="3652">Richmond, VA (Chippenham Parkway & Forest Hill Avenue)</option>
          </select>
			
        </div>
        <div class="mr-2">
          <label for="select_member_status"><small>Show</small></label>
          <select class="form-control form-control-sm"	 id="select_member_status">
            <option value="client">Clients</option>
            <option value="all">All Members </option>
          </select>
        </div>
		<div class="">
          <label for="select_coach"><small>Coach</small></label>
          <select class="form-control form-control-sm" id="select_coach">
            <option value="1">Jon Reischl (Me)</option>
            <option value="2">Phyllis Saroka</option>
          </select>
        </div>-->
		  
		<div class="mr-2 form-inline">
          <label for="select_stat" class="mr-1"><strong><small>Sort</small></strong></label> 
          <select class="form-control form-control-sm"	 id="select_stat">
            <option value="last_visit">Last Visit</option>
            <option value="evolt_highest">Highest Evolt </option>
			  <option value="evolt_lowest">Lowest Evolt </option>
          </select>
        </div>

      </div>
      
			</div>
      <div id="no_results" class="text-center p4" style="display: none"> No matching clients. </div>
      <ul id="clients_list" class="list-unstyled list-items list-ruled">
      </ul>
    </div>
	  <nav aria-label="More Clients" class="d-minimal-none">
  <ul class="pagination pagination-sm">
    <li class="page-item disabled">
      <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Previous</a>
    </li>
    <li class="page-item"><a class="page-link" href="#">1</a></li>
    <li class="page-item active" aria-current="page">
      <a class="page-link" href="#">2 <span class="sr-only">(current)</span></a>
    </li>
    <li class="page-item"><a class="page-link" href="#">3</a></li>
    <li class="page-item">
      <a class="page-link" href="#">Next</a>
    </li>
  </ul>
</nav>
<script>

		// Load Clients
	   $.getJSON('js/clients.json', function(data) {
		   $.each(data.client, function(i, f) {
			  var clientItem = '<li class="position-relative" data-club="'+ f.club +'" data-coach="'+ f.coach +'" data-plan="'+ f.plan +'" data-week="'+ f.plan_week +'"><div class="container-client-id m-2 d-flex  align-items-center"><span><i class="mug mug-md mr-2 position-relative" style="background-image: url(//randomuser.me/api/portraits/'+ f.gen +'/'+ f.id +'.jpg)"></i></span><div class="d-flex flex-column flex-fill "><span class=" nowrap" data-name>'+ f.first_name +' '+ f.last_name +'</span><small class="text-muted"><span data-type="plan">'+ f.plan +'</span> â€” Week '+ f.plan_week +'</small></div></div><div data-stats class="container-stats d-none d-md-flex d-minimal-none nowrap"> <small class="text-muted text-left pr-4 mr-4"><span data-coach-name>'+ f.coach +'</span></small> <small class="text-muted text-left pr-4 mr-4"><strong>Gender</strong><br> <span data-visits-name>Nonbinary</span></small> <small class="text-muted text-left pr-4 mr-4"><strong>Age</strong><br> <span data-visits-name>77</span></small> <small class="text-muted text-left pr-4 mr-4"><strong>Height</strong><br> <span data-visits-name>5ft 5in</span></small> <small class="text-muted text-left pr-4 mr-4"><strong>Weight</strong><br> <span data-visits-name>150lbs"</span></small> <small class="text-muted text-left pr-4 mr-4"><strong>BMI</strong><br> <span data-visits-name>25.0"</span></small> <small class="text-purple-dark text-left pr-4 mr-4"><strong>Last Visit</strong><br> <span data-visits-name>'+ f.last_visit +'</span></small> <small class="text-muted text-left pr-2"><strong>Last Activity</strong><br> <span data-visits-name>'+ f.last_visit +'</span></small></div></div> <button class="p-0 btn btn-link btn-takeover" data-action="view_client"><span class="sr-only">View Detail</span></button></li>'			  
			   $(clientItem).appendTo("#clients_list");
			});
		   
		   // Search Clients 
			$('#search_clients').keyup(function() {
			  $('#clients_list > li').hide();
			  var txt = $('#search_clients').val();
			  $('#clients_list > li').each(function() {
				if ($(this).text().toUpperCase().indexOf(txt.toUpperCase()) != -1) {
				  $(this).show();
				  $('#no_results').hide();
				}
			   else if($('#clients_list > li').children(':visible').length == 0) {
				   // action when all are hidden
				   $('#no_results').show();

				}
			  });
			});
		   
		   
		   
		  

		   //  Populate Coach Name & Adjust members vs clients 
		   $('#clients_list li').each(function(){
			   var theCoachName = $(this).find('[data-coach-name]');
			   
			   if (!$(theCoachName).text().trim().length){
				   $(this).attr('data-status','member')
				//  $(theCoachName).remove();
				}
			   else {
				   $(theCoachName).before('<strong>Coach<br></strong>');
				   $(this).attr('data-status','client')
			   }
		   });
	   
   	  	   // Filter Clients 
		   $('[data-action="filter_plan"]').click(function(){			   
			   var thePlan = $(this).text()
			   if ($(this).is('#all_plans')) {
				   $('#clients_list li').show().addClass('filtered');
			   }
			   else if ($(this).is('#no_plans')) {
				   $('#clients_list li').hide().removeClass('filtered');
				   $('[data-plan=""]').show().addClass('filtered');	
			   }
			   else {				  
				   $('#clients_list li').hide().removeClass('filtered');
				   $('[data-plan="'+thePlan+'"]').show().addClass('filtered');				   
			   }
			   $('[data-action="filter_plan"]').removeClass('checked')
			   $(this).addClass('checked');
			   $('#selected_plan').text(thePlan);
		   });
		    // Filter Weeks 
		   $('[data-action="filter_week"]').click(function(){
			   if ($(this).is('#all_weeks')) {
				   $('#selected_week').text('All Weeks');
				   $('li.filtered').show();
			   }
			   else {
				   var theWeek = $(this).attr('data-week');
				   $('#clients_list li').hide();
				   $('[data-week="'+theWeek+'"].filtered').show();
				   $('#selected_week').text('Week '+theWeek);
			   }			  
			   $('[data-action="filter_week"]').removeClass('checked')
			   $(this).addClass('checked');			   			   
		   })
		   
		   		   
		 // Replace empty plan with CTA
//		 $('[data-type="plan"]:empty').parent().html('Not on a plan');
		   
		   	
		   

		   
		 // Club Selector 
		   
		   $('#select_club').change(function(){
			   var theClub = $('#select_club option:selected').val();
			   $('#clients_list > li').hide().removeClass('selected-club');;
			   $('#clients_list > li[data-club='+theClub+']').addClass('selected-club');
			   $('#clients_list > li.selected-club.selected-coach').show();
			   
			   
		   });
		   
		   
		    // Coach Selector 
		   
		   $('#select_coach').change(function(){
			   var thisCoach = $('#select_coach option:selected').val();			   
			   $('#clients_list > li').hide().removeClass('selected-coach');
			   $('#clients_list > li[data-coach='+thisCoach+']').addClass('selected-coach');
			   $('#clients_list > li.selected-club.selected-coach').show();			   
		   });
		   
		   
		   // Status (client v member) Selector 
		   
		   $('#select_member_status').change(function(){
			   var theStatus = $('#select_member_status option:selected').val();
			   
			   if ($(this).val() == 'all') {
				   $('#clients_list > li.selected-club').show().removeClass('selected-status');
				   $('#select_coach').parent().hide();
				   
			   }
			   else {
				   $('#clients_list > li.selected-club').hide().removeClass('selected-status');
				   $('#clients_list > li.selected-club.selected-coach[data-status='+theStatus+']').show().addClass('selected-status');
				   $('#select_coach').parent().show();
			   }
			   
		   });
		   
		   
		   	 // View Client
	 
			 $('[data-action="view_client"]').click(function(){
				 
				 var theName = $(this).siblings().find('[data-name]').text();
				 var theCoach = $(this).siblings().find('[data-coach-name]');
				 var theCoachText = $(theCoach).text();
				 var theMug = $(this).siblings().find('.mug').css('background-image');
				 var thePlan = $(this).siblings().find('[data-type="plan"]');
				 var thePlanText = $(thePlan).text();

				$('li.indicate').removeClass('indicate');
				 $(this).closest('li').addClass('indicate');

				 $('#wall_Clients').attr('data-roll', 'minimal');
//				 $('#wall_Chat').attr('data-roll', 'present');
				 $('#wall_Detail').attr('data-roll', 'enganged');
				 
				  if ($(this).parent().is('[data-coach="1"]')) {
					 $('#wall_Detail [data-proprietary]').show();
				 }
				 else {
					 $('#wall_Detail [data-proprietary]').hide();
				 }

				 $('#wall_Detail [data-name]').text(theName);
				 $('#wall_Chat [data-name]').text(theName);
				 
				 // If there isn't a coach, show full Assign Coach button
				 if ($(theCoach).length === 0) {			 
					 $('#wall_Detail [data-coach]').text('').siblings('button').text('Assign Coach');
				 }
				 else {
					 $('#wall_Detail [data-coach]').text(theCoachText).siblings('button').html('<i class="icon-pencil-stub"></i> <span class="sr-only">Assign Coach</span>');
				 }
				 $('#wall_Detail .mug').css('background-image', theMug);
				 $('#wall_Chat .mug').css('background-image', theMug);
				 // If there are plans assigned, include the manage button for each plan
				 if ($(thePlan).length === 0) {
					  $('#wall_Detail [data-plans] > li').text('')
				 }
				 else {
					 $('#wall_Detail [data-plans] > li').text(thePlanText);
				 }
				 
				 
				 
				 
				  $('[data-action="close_client_detail"]').click(function(){
					  $('[data-roll]').attr('data-roll', 'absent');
					  $('#wall_Clients').attr('data-roll', 'enaged');
					  $('.indicate').removeClass('indicate');
				  });
				 

			 });
		   
		   
		   	 // View Client Chat
	 
			 $('[data-action="view_client_chat"]').click(function(){

				 var theName = $(this).siblings().find('[data-name]').text();
				 var theCoach = $(this).siblings().find('[data-coach-name]');
				 var theCoachText = $(theCoach).text();
				 var theMug = $(this).siblings().find('.mug').css('background-image');
				 var thePlan = $(this).siblings().find('[data-type="plan"]');
				 var thePlanText = $(thePlan).text();
				 
				 

				 $('#clients_list li').removeClass('indicate');
				 $(this).closest('li').addClass('indicate')
				 $('#wall_Clients').attr('data-roll', 'present');
				 $('#wall_Chat').attr('data-roll', 'enganged');
				 
				 if ($(this).parent().is('[data-coach="1"]')) {
					 $('#wall_Detail [data-proprietary]').show();
				 }
				 else {
					 $('#wall_Detail [data-proprietary]').hide();
				 }

				 $('#wall_Detail [data-name]').text(theName);
				 $('#wall_Chat [data-name]').text(theName);
				 
				 // If there isn't a coach, show full Assign Coach button
				 if ($(theCoach).length === 0) {			 
					 $('#wall_Detail [data-coach]').text('').siblings('button').text('Assign Coach');
				 }
				 else {
					 $('#wall_Detail [data-coach]').text(theCoachText).siblings('button').html('<i class="icon-pencil-stub"></i> <span class="sr-only">Assign Coach</span>');
				 }
				 $('#wall_Detail .mug').css('background-image', theMug);
				 $('#wall_Chat .mug').css('background-image', theMug);
				 // If there are plans assigned, include the manage button for each plan
				 if ($(thePlan).length === 0) {
					  $('#wall_Detail [data-plans] > li').text('')
				 }
				 else {
					 $('#wall_Detail [data-plans] > li').text(thePlanText).prepend('<button class="icon-x-small btn btn-secondary btn-sm" data-toggle="modal" data-target="#managePlanConf"></button> ');
				 }
				 
				 // Back to Chat
				 
				  $('[data-action="back_to_chat"]').click(function(){
						 $('#wall_Detail').attr('data-roll', 'absent');
					  	 $('#wall_Chat').attr('data-roll', 'engaged');
					  	$('#wall_Clients').attr('data-roll', 'present');
			
					 })

				 // Back to Client List 
				 $('[data-action="back_to_clients"]').click(function(){
					 $(this).attr('style','');
					 $('[data-roll]').attr('data-roll', 'absent');
					 $('#wall_Clients').attr('data-roll', 'engaged');
				 })



			 });

		   
	   });

</script>